% Adapted from the MIT/Berkeley scribe note template

\documentclass[11pt,letter]{article}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{verbatim}
\usepackage{dsfont}
\usepackage{bm}
\usepackage{algorithm}

\usepackage{xcolor}
\definecolor{green}{rgb}{0.0, 0.5, 0.0}
\usepackage[colorlinks,citecolor=blue,linkcolor=magenta,bookmarks=true,hypertexnames=false]{hyperref}
\usepackage[nameinlink,capitalize]{cleveref}
\providecommand\algorithmname{algorithm}
\crefname{equation}{equation}{equations}
\crefformat{equation}{(#2#1#3)}
\crefname{lemma}{lemma}{lemmas}
\crefname{claim}{claim}{claims}
\crefname{theorem}{theorem}{theorems}
\crefname{proposition}{proposition}{propositions}
\crefname{corollary}{corollary}{corollaries}
\crefname{claim}{claim}{claims}
\crefname{remark}{remark}{remarks}
\crefname{definition}{definition}{definitions}
\crefname{fact}{fact}{facts}
\crefname{question}{question}{questions}
\crefname{condition}{condition}{conditions}
\crefname{algorithm}{algorithm}{algorithms}
\crefname{assumption}{assumption}{assumptions}
\crefname{notation}{notation}{notation}
\crefname{cond}{Condition}{Conditions}
\crefname{problem}{problem}{problems}
\crefname{formula}{formula}{formulas}
\crefname{example}{example}{examples}

% Probability
\renewcommand{\Pr}{\operatorname*{\mathbb{P}}}
\newcommand{\Var}{\operatorname*{\mathrm{Var}}}
\newcommand{\Cov}{\operatorname*{\mathrm{Cov}}}
\newcommand{\Exp}{\operatorname*{\mathbb{E}}}
\newcommand{\from}{\leftarrow}
\newcommand{\negl}{\mathrm{negl}}

% Asymptotics
\newcommand{\poly}{\operatorname*{\mathrm{poly}}}
\newcommand{\polylog}{\operatorname*{\mathrm{polylog}}}

% Distributions
\newcommand{\Normal}{\mathcal{N}}
\newcommand{\Bin}{\mathrm{Bin}}
\newcommand{\Poi}{\mathrm{Poi}}
\newcommand{\Unif}{\mathrm{Unif}}
\newcommand{\Bernoulli}{\mathrm{Ber}}
\newcommand{\Geom}{\mathrm{Geom}}
\newcommand{\DistD}{\mathcal{D}}
\newcommand{\DistG}{\mathcal{G}}
\newcommand{\DTV}{d_\mathrm{TV}}
\newcommand{\DKL}{D_\mathrm{KL}}
\renewcommand{\DH}{d_\mathrm{H}}
\newcommand{\DK}{d_\mathrm{K}}

% Sets and other mathematical constructs
\renewcommand{\vec}[1]{\boldsymbol{\mathbf{#1}}}
\newcommand{\PSet}{\mathcal{P}}
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Rational}{\mathbb{Q}}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\Int}{\mathbb{Z}}
\newcommand{\argmax}{\operatorname*{\mathrm{arg\,max}}}
\newcommand{\argmin}{\operatorname*{\mathrm{arg\,min}}}
\renewcommand{\implies}{\Rightarrow}
\newcommand{\2}{\{0, 1\}}
\newcommand{\1}{\mathds{1}}

% Calculus/Analysis
\renewcommand{\d}{\mathrm{d}}
\newcommand{\Diff}[2][]{\frac{\d#1}{\d#2}}
\newcommand{\Grad}{\nabla}
\newcommand{\Del}[2][]{\frac{\partial#1}{\partial#2}}

% Linear algebra
\newcommand{\tr}{\mathrm{tr}}
\newcommand{\lmin}{\lambda_{\min}}
\newcommand{\lmax}{\lambda_{\max}}

% Miscellaneous
\newcommand{\eps}{\epsilon}
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cR}{\mathcal{R}}
\newcommand{\cS}{\mathcal{S}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cZ}{\mathcal{Z}}
\newcommand{\Chi}{\cX}
\newcommand{\sgn}{\mathrm{sgn}}

\newcommand{\new}[1]{{\color{red} #1}}


% Project specific commands
%

\newcounter{nLectures}
\newcounter{nTheorems}[nLectures]

\newtheorem{theorem}[nTheorems]{Theorem}
\newtheorem{corollary}[nTheorems]{Corollary}
\newtheorem{conjecture}[nTheorems]{Conjecture}
\newtheorem{lemma}[nTheorems]{Lemma}
\newtheorem{proposition}[nTheorems]{Proposition}
\newtheorem{protocol}[nTheorems]{Protocol}
\newtheorem{claim}[nTheorems]{Claim}
\newtheorem{fact}[nTheorems]{Fact}

\theoremstyle{definition}
\newtheorem{definition}[nTheorems]{Definition}
\newtheorem{problem}[nTheorems]{Problem}
\newtheorem{intuition}[nTheorems]{Intuition}
\newtheorem{idea}[nTheorems]{Idea}
\newtheorem{exercise}[nTheorems]{Exercise}
\newtheorem{remark}[nTheorems]{Remark}
\newtheorem{formula}[nTheorems]{Formula}
\newtheorem{example}[nTheorems]{Example}

\makeatletter
	\let\c@algorithm\c@nTheorems
\makeatother

\usepackage{xpatch}
\makeatletter
\AtBeginDocument{\xpatchcmd{\@thm}{\thm@headpunct{.}}{\thm@headpunct{}}{}{}}
\makeatother

\hbadness=10000
\vbadness=10000

\setlength{\oddsidemargin}{.25in}
\setlength{\evensidemargin}{.25in}
\setlength{\textwidth}{6in}
\setlength{\topmargin}{-0.4in}
\setlength{\textheight}{9in}

\newcommand{\lecture}[4]{
	\setcounter{nLectures}{#1}
	\renewcommand{\thenTheorems}{\arabic{nLectures}.\arabic{nTheorems}}
	\renewcommand{\thealgorithm}{\arabic{nLectures}.\arabic{nTheorems}}
	\noindent
	\begin{center}
	\framebox{
		\vbox{
		\hbox to 5.78in { {\bf MAT 115B Number Theory
		\hfill Winter 2025} }
		\hbox to 5.78in { {\it \hfill #4} }
		\vspace{4mm}
		\hbox to 5.78in { {\Large \hfill Lecture \arabic{nLectures} \hfill} }
		\vspace{2mm}
		\hbox to 5.78in { {\it Lecturer: Elena Fuchs \hfill Scribe: #3} }
		}
	}
	\end{center}
	\vspace*{4mm}
}

\begin{document}
\lecture{7}{}{Avery Li}{January 22, 2025}

\begin{fact}
	The product of two quadratic residues is a quadratic residue and the product of two quadratic non-residues
	is a quadratic residue.
\end{fact}
\begin{fact}
	We have that $-1$ is a quadratic residue mod $p$ when $p\equiv 1\mod 4$.
\end{fact}

\begin{example}
	$p=11$, quadratic residues are $1,3,4,5,9$. Look at $a,2a,3a,\dots\frac{p-1}{2}a\mod p$
	\begin{center}
	\begin{tabular}{ c|ccccc|ccccc|c }
	\hline
	 a & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11\\
	\hline
	 1 & * & * & * & * & * &   &   &   &   &   & \\
	 2 &   & * &   & * &   & * &   & * &   & * & \\
	 3 &   &   & * & * &   & * & * &   & * &   & \\
	 4 & * &   &   & * & * &   &   & * & * &   & \\
	 5 & * & * &   &   &   & * & * & * &   &   & \\
	 6 & * & * &   &   &   & * & * & * &   &   & \\
	 7 &   & * & * &   &   & * & * &   &   & * & \\
	 8 &   & * &   &   & * &   & * & * &   & * & \\
	 9 & * &   & * &   & * &   & * &   & * &   & \\
	 10&   &   &   &   & * & * & * & * & * & * & \\
	\end{tabular}
	\end{center}
	We'll now count how many  how many dots are past the middle line.
\end{example}

\begin{lemma}
	Let $p$ be an odd prime, let $p\not\vert a$. Let $n=|\{\frac{p+1}{2}\leq x\leq p-1\vert k\equiv ka\mod p \text{ for some }1\leq k\leq\frac{p-1}{2}\}|$.
	Then $\left(\frac{a}{p}\right)=(-1)^n$.
\end{lemma}
\begin{proof}
	Let $r_1, r_2,\dots, r_n$ be the $x$'s that we count above. Let $s_1,s_2,\dots,s_m$ be the other $ka\mod p$.
	Compare $\{p-r_1,p-r_2,\dots,p-r_n,s_1s_2,\dots,s_m\}$ to $\{1,2,\dots,\frac{p-1}{2}\}$, we will show that these
	are in fact the same sets.
	If they are the same, then
	\begin{align*}
		&(p-r_1)(p-r_2)\cdots(p-r_n)s_1s_2\cdots s_m&=\left(\frac{p-1}{2}\right)! \\
		&\equiv (-r_1)(-r_2)\cdots(-r_n)s_1s_2\cdots s_m\mod p \\
		&\equiv (-1)^n r_1\cdot r_2\cdots r_n s_1s_2\cdots s_m\mod p \\
		&\equiv (-1)^n a\cdot 2a\cdot 3a\cdots \frac{p-1}{2}a&\equiv \left(\frac{p-1}{2}\right)!\\
		&\equiv (-1)^n a^{\frac{p-1}{2}}&\equiv 1\mod p\\
		&\equiv (-1)^n \left(\frac{a}{p}\right)&\equiv 1\mod p\\
		&\equiv \left(\frac{a}{p}\right)&\equiv (-1)^n\mod p\\
	\end{align*}
	Now we need to show that these sets are in fact the same.
	Note that each of the differences $p-r_i\leq\frac{p-1}{2}$, then $\{p-r_1,p-r_2,\dots,p-r_n,s_1,\dots,s_m\}\subseteq\{1,2,\dots,\frac{p-1}{2}\}$.
	Assume towards a contradiction that $r_i=s_j$ for some $i,j$. Then
	\begin{align*}
		&p-r+i\equiv s_j\mod p \\
		&\implies -r_i\equiv s_j\mod p \\
		&\implies r_i+s_j\equiv 0\mod p \\
		&\implies p\vert r_i+s_j\equiv ka+la=(k+l)a\\
	\end{align*}
	Then, because $k,\ell\leq \frac{p-1}{2}$, we have that $k+l\leq p-1$. so we have $p\vert(k+\ell)a\implies p\vert a$. This is a contradiction
	because we assumed that $p\not\vert a$. Therefore, $r_i\neq s_j$. Similarly, $p-r_i\neq p-r_j$ if $i\neq j$ because if this were true, then
	$p\vert r_i-r_j\implies p\vert sa-ta\implies p\vert (s-t)a\implies p\vert a$, which is a contradiction.

\end{proof}

\begin{theorem}
	Let $p$ be an odd prime, then $\left(\frac{2}{p}\right)=(-1)^{\frac{p^2-1}{8}}$, $2$ is a quadratic residue
	mod $p$ if and only if $p\equiv 1,7\mod 8$.
\end{theorem}

\end{document}